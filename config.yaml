# Govee H5075 Prometheus Exporter Configuration
# This file provides default configuration values that can be overridden by environment variables

# Server configuration
server:
  port: 8080                    # HTTP port for metrics and dashboard

# Bluetooth scanning configuration
bluetooth:
  scanInterval: 15s             # How often to scan for BLE devices
  scanDuration: 15s             # How long each scan should run

# OpenMeteo API configuration
openmeteo:
  enabled: true                 # Enable/disable OpenMeteo weather API integration
  interval: 5m                  # How often to fetch weather data
  latitude: 53.35               # Latitude for weather location
  longitude: -6.26              # Longitude for weather location
  
# Metrics management
metrics:
  refreshInterval: 30s          # How often to check for stale metrics
  staleThreshold: 5m            # Time before inactive sensors are removed

# Dashboard warning thresholds
thresholds:
  temperature:
    min: -20                    # Minimum temperature for display normalization (°C)
    max: 40                     # Maximum temperature for display normalization (°C)
    low: 0                      # Temperature below which warning is shown (°C)
    high: 35                    # Temperature above which warning is shown (°C)
  
  humidity:
    low: 30                     # Humidity below which warning is shown (%)
    high: 70                    # Humidity above which warning is shown (%)
  
  battery:
    low: 5                      # Battery level at or below which warning is shown (%)

# Known Govee H5075 devices
# Configure your sensors here with their MAC addresses, optional UI display names,
# optional groups, and optional calibration offsets. Prometheus metrics always use `name`,
# while the dashboard shows `displayName` when provided (otherwise it falls back to `name`).
devices:
  - mac: "A4:C1:38:E0:0F:54"
    name: "Office"
    displayName: "Office Desk"    # Optional: Friendly name used only on the dashboard
    group: "Upstairs"           # Optional: Group devices (e.g., "Upstairs", "Downstairs", "Indoor", "Outdoor")
    offsets:
      temperature: 0.0          # Temperature offset in °C (positive or negative)
      humidity: 0.0             # Humidity offset in % (positive or negative)
  
  - mac: "A4:C1:38:8A:F6:2A"
    name: "LivingRoom"
    group: "Downstairs"
    offsets:
      temperature: 0.0
      humidity: 0.0
  
  - mac: "A4:C1:38:D3:A0:C1"
    name: "Kitchen"
    group: "Downstairs"
    offsets:
      temperature: 0.0
      humidity: 0.0

# Example device with calibration offsets and without a group:
# - mac: "A4:C1:38:12:34:56"
#   name: "Bedroom"
#   displayName: "Guest Bedroom"
#   offsets:
#     temperature: -0.5         # Sensor reads 0.5°C too high, so subtract 0.5
#     humidity: 2.0             # Sensor reads 2% too low, so add 2

